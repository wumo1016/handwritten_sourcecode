{"version":3,"file":"single-spa.js","sources":["../../src/applications/app-helpers.js","../../src/leftcycles/bootstrap.js","../../src/leftcycles/load.js","../../src/leftcycles/mount.js","../../src/leftcycles/unmount.js","../../src/start.js","../../src/navigations/reroute.js","../../src/navigations/navigator-events.js","../../src/applications/app.js"],"sourcesContent":["// 描述应用的整个状态\r\nexport const NOT_LOADED = 'NOT_LOADED' // 应用初始状态\r\nexport const LOADING_SOURCE_CODE = 'LOADING_SOURCE_CODE' // 加载资源\r\nexport const NOT_BOOTSTRAPPED = 'NOT_BOOTSTRAPPED' // 还没有调用bootstrap方法\r\nexport const BOOTSTRAPPING = 'BOOTSTRAPPING' // 启动中\r\nexport const NOT_MOUNTED = 'NOT_MOUNTED' // 没有调用mount方法\r\nexport const MOUNTING = 'MOUNTING' // 正在挂载中\r\nexport const MOUNTED = 'MOUNTED' // 挂载完毕\r\nexport const UPDATINMG = 'UPDATINMG' // 更新中\r\nexport const UNMOUNTING = 'UNMOUNTING' // 解除挂载\r\nexport const UNLOADING = 'UNLOADING' // 完全卸载中\r\nexport const LOAD_ERR = 'LOAD_ERR' // 加载报错\r\nexport const SKIP_BECAUSE_BROKEN = 'SKIP_BECAUSE_BROKEN' // 执行报错\r\n\r\n// 当前应用是否被激活\r\nexport function isActive(app) {\r\n  return app.status === MOUNTED\r\n}\r\n\r\n// 当前这个应用是否要被激活 \r\n// 如果返回true 那么应用应该就开始初始化等一系列操作\r\nexport function shouldBeActive(app) {\r\n  return app.activeWhen(window.location)\r\n}\r\n ","import {\r\n  BOOTSTRAPPING,\r\n  NOT_BOOTSTRAPPED,\r\n  NOT_MOUNTED,\r\n  shouldBeActive\r\n} from '../applications/app-helpers'\r\n\r\nexport async function toBootstarpPromise(app) {\r\n  if (app.status !== NOT_BOOTSTRAPPED || !shouldBeActive(app)) return app\r\n  app.status = BOOTSTRAPPING\r\n  await app.bootstrap(app.customProps)\r\n  app.status = NOT_MOUNTED\r\n  return app\r\n}\r\n","import {\r\n  LOADING_SOURCE_CODE,\r\n  NOT_BOOTSTRAPPED\r\n} from '../applications/app-helpers'\r\n\r\n/**\r\n * @Author: wyb\r\n * @Descripttion: 加载应用\r\n * @param {*} app\r\n */\r\nexport async function toLoadPromise(app) {\r\n  // 做一个缓存\r\n  if (app.loadPromise) return app.loadPromise\r\n  return (app.loadPromise = Promise.resolve().then(async () => {\r\n    app.status = LOADING_SOURCE_CODE\r\n    const { bootstrap, mount, unmount } = await app.loadApp(app.customProps)\r\n    app.status = NOT_BOOTSTRAPPED // 没有调用bootstrap方法\r\n    Object.assign(app, {\r\n      bootstrap: flatFnArray(bootstrap),\r\n      mount: flatFnArray(mount),\r\n      unmount: flatFnArray(unmount)\r\n    })\r\n    delete app.loadPromise\r\n    return app\r\n  }))\r\n}\r\n/**\r\n * @Author: wyb\r\n * @Descripttion: 多个方法组合成一个函数\r\n * @param {*} fns\r\n */\r\nfunction flatFnArray(fns) {\r\n  fns = Array.isArray(fns) ? fns : [fns]\r\n  return props =>\r\n    fns.reduce((p, fn) => p.then(() => fn(props)), Promise.resolve())\r\n}\r\n","import { MOUNTED, MOUNTING, NOT_MOUNTED, shouldBeActive } from '../applications/app-helpers'\r\n\r\nexport async function toMountPromise(app) {\r\n  if (app.status !== NOT_MOUNTED || !shouldBeActive(app)) return app\r\n  app.status = MOUNTING\r\n  await app.mount(app.customProps)\r\n  app.status = MOUNTED\r\n  return app\r\n}\r\n","import { MOUNTED, NOT_MOUNTED, UNMOUNTING } from '../applications/app-helpers'\r\n\r\nexport async function toUnmountPromise(app) {\r\n  // 如果应用没有被挂载 则不需要卸载\r\n  if (app.status !== MOUNTED) {\r\n    return app\r\n  }\r\n  app.status = UNMOUNTING // 卸载中\r\n  await app.unmount(app.customProps)\r\n  app.status = NOT_MOUNTED\r\n  return app\r\n}\r\n","import { reroute } from './navigations/reroute'\r\n\r\nexport let started = false\r\n/**\r\n * @Descripttion: 挂载应用\r\n * @param {*}\r\n */\r\nexport function start() {\r\n  started = true\r\n  // 加载并挂载应用\r\n  reroute()\r\n}\r\n","import { getAppChanges } from '../applications/app'\r\nimport { toBootstarpPromise } from '../leftcycles/bootstrap'\r\nimport { toLoadPromise } from '../leftcycles/load'\r\nimport { toMountPromise } from '../leftcycles/mount'\r\nimport { toUnmountPromise } from '../leftcycles/unmount'\r\nimport { started } from '../start'\r\n\r\n/**\r\n * @Author: wyb\r\n * @Descripttion:\r\n * @param {*}\r\n */\r\nexport function reroute() {\r\n  // 获取需要加载的应用\r\n  // 获取需要被挂载的应用\r\n  // 获取需要卸载的应用\r\n\r\n  const { appsToUnmount, appsToLoad, appsToMount } = getAppChanges()\r\n\r\n  if (started) {\r\n    // 调用start\r\n    return performAppChanges(appsToUnmount, appsToLoad, appsToMount)\r\n  } else {\r\n    // 调用register\r\n    // 注册应用时 需要预先加载\r\n    return loadApps(appsToLoad)\r\n  }\r\n}\r\n\r\n/**\r\n * @Descripttion: 根据路径来装载\r\n * @param {*}\r\n */\r\nasync function performAppChanges(appsToUnmount, appsToLoad, appsToMount) {\r\n  // 先卸载不需要的应用\r\n  const unmountPromises = appsToUnmount.map(toUnmountPromise)\r\n  // 装载需要的应用 加载 => 启动 => 挂载\r\n  appsToLoad.map(async app => {\r\n    app = await toLoadPromise(app)\r\n    app = await toBootstarpPromise(app)\r\n    return await toMountPromise(app)\r\n  })\r\n  appsToMount.map(async app => {\r\n    app = await toBootstarpPromise(app)\r\n    return await toMountPromise(app)\r\n  })\r\n}\r\n\r\n/**\r\n * @Descripttion: 预加载应用\r\n * @param {*}\r\n */\r\nasync function loadApps(appsToLoad) {\r\n  const apps = await Promise.all(appsToLoad.map(toLoadPromise)) // 获取到 bootstrap mount unmount 方法 放到app上\r\n}\r\n","import { reroute } from './reroute'\r\n\r\n// popstate事件 只会在浏览器快捷栏点击 前进/后退时 才会触发  或者用户调用 history.back() history.forward() 触发\r\n// pushState/replaceState 是不会触发的\r\nconst routingEventsListeningTo = ['hashchange', 'popstate']\r\nconst captureEventListeners = {\r\n  hashchange: [],\r\n  popstate: []\r\n}\r\n// 需要将处理应用加载的逻辑卸载最前面 因为用户可能会在应用中绑定自己的监听事件\r\nconst originAddEventListener = window.addEventListener\r\nconst originRemoveEventListener = window.removeEventListener\r\n\r\nfunction urlReroute() {\r\n  reroute([], arguments)\r\n}\r\n\r\nfunction excuteListeners() {\r\n  Object.values(captureEventListeners).map(fns => {\r\n    fns.map(fn => fn.apply(this, arguments))\r\n  })\r\n}\r\n\r\nwindow.addEventListener('hashchange', urlReroute)\r\nwindow.addEventListener('popstate', urlReroute)\r\n\r\n// 拦截默认监听事件\r\nwindow.addEventListener = function (eventName, fn) {\r\n  if (\r\n    routingEventsListeningTo.includes(eventName) &&\r\n    !captureEventListeners[eventName].some(v => v === fn)\r\n  ) {\r\n    captureEventListeners[eventName].push(fn)\r\n    return\r\n  }\r\n  return originAddEventListener.apply(this, arguments)\r\n}\r\n// 拦截默认监听事件\r\nwindow.removeEventListener = function (eventName, fn) {\r\n  let index\r\n  if (\r\n    routingEventsListeningTo.includes(eventName) &&\r\n    (index = captureEventListeners[eventName].findIndex(v => v === fn)) > -1\r\n  ) {\r\n    captureEventListeners[eventName].splice(index, 1)\r\n    return\r\n  }\r\n  return originRemoveEventListener.apply(this, arguments)\r\n}\r\n\r\nwindow.history.pushState = patchUpdateState(\r\n  window.history.pushState,\r\n  'pushState'\r\n)\r\n\r\nwindow.history.replaceState = patchUpdateState(\r\n  window.history.replaceState,\r\n  'replaceState'\r\n)\r\n\r\nfunction patchUpdateState(updateState, methodName) {\r\n  return function () {\r\n    const beforeUrl = window.location.href\r\n    updateState.apply(this, arguments)\r\n    const afterUrl = window.location.href\r\n    if (beforeUrl !== afterUrl) {\r\n      // 重新加载应用 传入事件源\r\n      urlReroute(new PopStateEvent('popstate'))\r\n    }\r\n  }\r\n}\r\n","import { reroute } from '../navigations/reroute'\r\nimport {\r\n  BOOTSTRAPPING,\r\n  LOADING_SOURCE_CODE,\r\n  MOUNTED,\r\n  NOT_BOOTSTRAPPED,\r\n  NOT_LOADED,\r\n  NOT_MOUNTED,\r\n  shouldBeActive\r\n} from './app-helpers'\r\nimport '../navigations/navigator-events'\r\n\r\nconst apps = []\r\n\r\n/**\r\n * @Descripttion: 注册应用\r\n * @param {*} appName 应用名\r\n * @param {*} loadApp 加载应用的方法\r\n * @param {*} activeWhen 何时调用 loadApp 方法\r\n * @param {*} customProps 自定义属性\r\n */\r\nexport function registerApplication(appName, loadApp, activeWhen, customProps) {\r\n  apps.push({\r\n    name: appName,\r\n    loadApp,\r\n    activeWhen,\r\n    customProps,\r\n    status: NOT_LOADED\r\n  })\r\n  reroute() // 预加载应用\r\n}\r\n\r\n/**\r\n * @Descripttion:\r\n * @param {*}\r\n */\r\nexport function getAppChanges() {\r\n  const appsToUnmount = [] // 需要卸载的app\r\n  const appsToLoad = [] // 需要加载的app\r\n  const appsToMount = [] // 需要挂载的app\r\n\r\n  apps.forEach(app => {\r\n    const appShouldBeActive = shouldBeActive(app) // 是否需要挂载\r\n    switch (app.status) {\r\n      case NOT_LOADED:\r\n      case LOADING_SOURCE_CODE:\r\n        if (appShouldBeActive) appsToLoad.push(app)\r\n        break\r\n      case NOT_BOOTSTRAPPED:\r\n      case BOOTSTRAPPING:\r\n      case NOT_MOUNTED:\r\n        if (appShouldBeActive) appsToMount.push(app)\r\n        break\r\n      case MOUNTED:\r\n        if (!appShouldBeActive) appsToUnmount.push(app)\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  })\r\n\r\n  return {\r\n    appsToUnmount,\r\n    appsToLoad,\r\n    appsToMount\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;EAAA;EACO,MAAM,UAAU,GAAG,aAAY;EAC/B,MAAM,mBAAmB,GAAG,sBAAqB;EACjD,MAAM,gBAAgB,GAAG,mBAAkB;EAC3C,MAAM,aAAa,GAAG,gBAAe;EACrC,MAAM,WAAW,GAAG,cAAa;EACjC,MAAM,QAAQ,GAAG,WAAU;EAC3B,MAAM,OAAO,GAAG,UAAS;EAEzB,MAAM,UAAU,GAAG,aAAY;AAStC;EACA;EACA;EACO,SAAS,cAAc,CAAC,GAAG,EAAE;EACpC,EAAE,OAAO,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC;EACxC;;EChBO,eAAe,kBAAkB,CAAC,GAAG,EAAE;EAC9C,EAAE,IAAI,GAAG,CAAC,MAAM,KAAK,gBAAgB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,OAAO,GAAG;EACzE,EAAE,GAAG,CAAC,MAAM,GAAG,cAAa;EAC5B,EAAE,MAAM,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,EAAC;EACtC,EAAE,GAAG,CAAC,MAAM,GAAG,YAAW;EAC1B,EAAE,OAAO,GAAG;EACZ;;ECRA;EACA;EACA;EACA;EACA;EACO,eAAe,aAAa,CAAC,GAAG,EAAE;EACzC;EACA,EAAE,IAAI,GAAG,CAAC,WAAW,EAAE,OAAO,GAAG,CAAC,WAAW;EAC7C,EAAE,QAAQ,GAAG,CAAC,WAAW,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAY;EAC/D,IAAI,GAAG,CAAC,MAAM,GAAG,oBAAmB;EACpC,IAAI,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,MAAM,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAC;EAC5E,IAAI,GAAG,CAAC,MAAM,GAAG,iBAAgB;EACjC,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;EACvB,MAAM,SAAS,EAAE,WAAW,CAAC,SAAS,CAAC;EACvC,MAAM,KAAK,EAAE,WAAW,CAAC,KAAK,CAAC;EAC/B,MAAM,OAAO,EAAE,WAAW,CAAC,OAAO,CAAC;EACnC,KAAK,EAAC;EACN,IAAI,OAAO,GAAG,CAAC,YAAW;EAC1B,IAAI,OAAO,GAAG;EACd,GAAG,CAAC,CAAC;EACL,CAAC;EACD;EACA;EACA;EACA;EACA;EACA,SAAS,WAAW,CAAC,GAAG,EAAE;EAC1B,EAAE,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,EAAC;EACxC,EAAE,OAAO,KAAK;EACd,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,OAAO,EAAE,CAAC;EACrE;;ECjCO,eAAe,cAAc,CAAC,GAAG,EAAE;EAC1C,EAAE,IAAI,GAAG,CAAC,MAAM,KAAK,WAAW,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,OAAO,GAAG;EACpE,EAAE,GAAG,CAAC,MAAM,GAAG,SAAQ;EACvB,EAAE,MAAM,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAC;EAClC,EAAE,GAAG,CAAC,MAAM,GAAG,QAAO;EACtB,EAAE,OAAO,GAAG;EACZ;;ECNO,eAAe,gBAAgB,CAAC,GAAG,EAAE;EAC5C;EACA,EAAE,IAAI,GAAG,CAAC,MAAM,KAAK,OAAO,EAAE;EAC9B,IAAI,OAAO,GAAG;EACd,GAAG;EACH,EAAE,GAAG,CAAC,MAAM,GAAG,WAAU;EACzB,EAAE,MAAM,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAC;EACpC,EAAE,GAAG,CAAC,MAAM,GAAG,YAAW;EAC1B,EAAE,OAAO,GAAG;EACZ;;ECTO,IAAI,OAAO,GAAG,MAAK;EAC1B;EACA;EACA;EACA;EACO,SAAS,KAAK,GAAG;EACxB,EAAE,OAAO,GAAG,KAAI;EAChB;EACA,EAAE,OAAO,GAAE;EACX;;ECJA;EACA;EACA;EACA;EACA;EACO,SAAS,OAAO,GAAG;EAC1B;EACA;EACA;AACA;EACA,EAAE,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,aAAa,GAAE;AACpE;EACA,EAAE,IAAI,OAAO,EAAE;EACf;EACA,IAAI,OAAO,iBAAiB,CAAC,aAAa,EAAE,UAAU,EAAE,WAAW,CAAC;EACpE,GAAG,MAAM;EACT;EACA;EACA,IAAI,OAAO,QAAQ,CAAC,UAAU,CAAC;EAC/B,GAAG;EACH,CAAC;AACD;EACA;EACA;EACA;EACA;EACA,eAAe,iBAAiB,CAAC,aAAa,EAAE,UAAU,EAAE,WAAW,EAAE;EACzE;EACA,EAA0B,aAAa,CAAC,GAAG,CAAC,gBAAgB,EAAC;EAC7D;EACA,EAAE,UAAU,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI;EAC9B,IAAI,GAAG,GAAG,MAAM,aAAa,CAAC,GAAG,EAAC;EAClC,IAAI,GAAG,GAAG,MAAM,kBAAkB,CAAC,GAAG,EAAC;EACvC,IAAI,OAAO,MAAM,cAAc,CAAC,GAAG,CAAC;EACpC,GAAG,EAAC;EACJ,EAAE,WAAW,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI;EAC/B,IAAI,GAAG,GAAG,MAAM,kBAAkB,CAAC,GAAG,EAAC;EACvC,IAAI,OAAO,MAAM,cAAc,CAAC,GAAG,CAAC;EACpC,GAAG,EAAC;EACJ,CAAC;AACD;EACA;EACA;EACA;EACA;EACA,eAAe,QAAQ,CAAC,UAAU,EAAE;EACpC,EAAe,MAAM,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,EAAC;EAC/D;;ECpDA;EACA;EACA,MAAM,wBAAwB,GAAG,CAAC,YAAY,EAAE,UAAU,EAAC;EAC3D,MAAM,qBAAqB,GAAG;EAC9B,EAAE,UAAU,EAAE,EAAE;EAChB,EAAE,QAAQ,EAAE,EAAE;EACd,EAAC;EACD;EACA,MAAM,sBAAsB,GAAG,MAAM,CAAC,iBAAgB;EACtD,MAAM,yBAAyB,GAAG,MAAM,CAAC,oBAAmB;AAC5D;EACA,SAAS,UAAU,GAAG;EACtB,EAAE,OAAO,CAAc,EAAC;EACxB,CAAC;AAOD;EACA,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,UAAU,EAAC;EACjD,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAU,EAAC;AAC/C;EACA;EACA,MAAM,CAAC,gBAAgB,GAAG,UAAU,SAAS,EAAE,EAAE,EAAE;EACnD,EAAE;EACF,IAAI,wBAAwB,CAAC,QAAQ,CAAC,SAAS,CAAC;EAChD,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;EACzD,IAAI;EACJ,IAAI,qBAAqB,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC;EAC7C,IAAI,MAAM;EACV,GAAG;EACH,EAAE,OAAO,sBAAsB,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC;EACtD,EAAC;EACD;EACA,MAAM,CAAC,mBAAmB,GAAG,UAAU,SAAS,EAAE,EAAE,EAAE;EACtD,EAAE,IAAI,MAAK;EACX,EAAE;EACF,IAAI,wBAAwB,CAAC,QAAQ,CAAC,SAAS,CAAC;EAChD,IAAI,CAAC,KAAK,GAAG,qBAAqB,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC;EAC5E,IAAI;EACJ,IAAI,qBAAqB,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAC;EACrD,IAAI,MAAM;EACV,GAAG;EACH,EAAE,OAAO,yBAAyB,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC;EACzD,EAAC;AACD;EACA,MAAM,CAAC,OAAO,CAAC,SAAS,GAAG,gBAAgB;EAC3C,EAAE,MAAM,CAAC,OAAO,CAAC,SAEjB,EAAC;AACD;EACA,MAAM,CAAC,OAAO,CAAC,YAAY,GAAG,gBAAgB;EAC9C,EAAE,MAAM,CAAC,OAAO,CAAC,YAEjB,EAAC;AACD;EACA,SAAS,gBAAgB,CAAC,WAAW,EAAE,UAAU,EAAE;EACnD,EAAE,OAAO,YAAY;EACrB,IAAI,MAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAI;EAC1C,IAAI,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,EAAC;EACtC,IAAI,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAI;EACzC,IAAI,IAAI,SAAS,KAAK,QAAQ,EAAE;EAChC;EACA,MAAM,UAAU,CAAC,IAAI,aAAa,CAAC,UAAU,CAAC,EAAC;EAC/C,KAAK;EACL,GAAG;EACH;;EC1DA,MAAM,IAAI,GAAG,GAAE;AACf;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,mBAAmB,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE;EAC/E,EAAE,IAAI,CAAC,IAAI,CAAC;EACZ,IAAI,IAAI,EAAE,OAAO;EACjB,IAAI,OAAO;EACX,IAAI,UAAU;EACd,IAAI,WAAW;EACf,IAAI,MAAM,EAAE,UAAU;EACtB,GAAG,EAAC;EACJ,EAAE,OAAO,GAAE;EACX,CAAC;AACD;EACA;EACA;EACA;EACA;EACO,SAAS,aAAa,GAAG;EAChC,EAAE,MAAM,aAAa,GAAG,GAAE;EAC1B,EAAE,MAAM,UAAU,GAAG,GAAE;EACvB,EAAE,MAAM,WAAW,GAAG,GAAE;AACxB;EACA,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI;EACtB,IAAI,MAAM,iBAAiB,GAAG,cAAc,CAAC,GAAG,EAAC;EACjD,IAAI,QAAQ,GAAG,CAAC,MAAM;EACtB,MAAM,KAAK,UAAU,CAAC;EACtB,MAAM,KAAK,mBAAmB;EAC9B,QAAQ,IAAI,iBAAiB,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,EAAC;EACnD,QAAQ,KAAK;EACb,MAAM,KAAK,gBAAgB,CAAC;EAC5B,MAAM,KAAK,aAAa,CAAC;EACzB,MAAM,KAAK,WAAW;EACtB,QAAQ,IAAI,iBAAiB,EAAE,WAAW,CAAC,IAAI,CAAC,GAAG,EAAC;EACpD,QAAQ,KAAK;EACb,MAAM,KAAK,OAAO;EAClB,QAAQ,IAAI,CAAC,iBAAiB,EAAE,aAAa,CAAC,IAAI,CAAC,GAAG,EAAC;EACvD,QAAQ,KAAK;EAGb,KAAK;EACL,GAAG,EAAC;AACJ;EACA,EAAE,OAAO;EACT,IAAI,aAAa;EACjB,IAAI,UAAU;EACd,IAAI,WAAW;EACf,GAAG;EACH;;;;;;;;;;;"}